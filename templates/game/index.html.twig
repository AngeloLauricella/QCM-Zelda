{% extends 'base.html.twig' %}

{% block title %}Zelda: Ocarina of Time - Menu Principal
{% endblock %}

{% block body %}
	<header class="game-header">
		<h1>{{ player.name }}, bienvenue!</h1>
		<p class="subtitle">L'aventure t'attend</p>
	</header>

	<main class="game-main">
		<section class="player-stats">
			<div class="hearts-display">
				<span class="label">Cœurs:</span>
				<div class="hearts-container">
					{% for i in 1..maxHearts %}
						<span class="heart{% if i <= hearts %} active{% endif %}">❤️</span>
					{% endfor %}
				</div>
				<span class="count">{{ hearts }}/{{ maxHearts }}</span>
			</div>

			<div class="points-display">
				<span class="label">Points:</span>
				<span class="points-value">{{ points }}</span>
			</div>
		</section>

		{% if isGameOver %}
			<section class="game-over-notice">
				<h2>Partie Terminée</h2>
				<p>Vous avez perdu tous vos cœurs. Commencez une nouvelle aventure!</p>
				<form action="{{ path('game_new') }}" method="post">
					<button type="submit" class="btn btn-start">Nouvelle Aventure</button>
				</form>
			</section>
		{% else %}
			<section class="zones-container">
				<h2>Zones Disponibles</h2>

				{% if unlockedZones is empty %}
				<div class="intro-message">
					<h3>Bienvenue en Hyrule!</h3>
					<p>L'aventure commence par une introduction. Appuie sur le bouton ci-dessous pour débuter!</p>
					<a href="{{ path('game_start') }}" class="btn btn-large btn-start">
						▶️ Commencer l'Aventure
					</a>
				</div>
				{% else %}
					{% for zone in unlockedZones %}
						<div class="zone-card unlocked">
							<h3>{{ zone.name }}</h3>
							<p class="zone-description">{{ zone.description }}</p>
							<div class="zone-info">
								<a href="{{ path('game_zone', {'zoneId': zone.id}) }}" class="btn btn-explore">
									Explorer
								</a>
							</div>
						</div>
					{% endfor %}
				{% endif %}
			</section>

			<section class="actions">
				<a href="{{ path('game_start') }}" class="btn btn-start">
					Commencer l'Aventure
				</a>
				<form action="{{ path('game_new') }}" method="post" class="new-game-form">
					<button type="submit" class="btn btn-new" onclick="return confirm('Êtes-vous sûr? Votre progression sera perdue!')">
						Nouvelle Aventure
					</button>
				</form>
			</section>
		{% endif %}
	</main>
{% endblock %}
