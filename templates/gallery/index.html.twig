{% extends 'base.html.twig' %}

{% block title %}Galerie - Troph√©es et Easter Eggs - Zelda QCM{% endblock %}

{% block body %}
<header class="gallery-header">
	<h1>üé≠ Galerie des Troph√©es</h1>
	<p class="subtitle">Collectionnez les troph√©es et d√©couvrez les secrets</p>
</header>

<main class="gallery-main">
	<nav class="gallery-nav">
		<a href="{{ path('app_gallery_index') }}" class="nav-link active">Troph√©es</a>
		{% if app.user %}
			<a href="{{ path('app_gallery_shop') }}" class="nav-link">Boutique</a>
		{% endif %}
	</nav>

	{% if passiveTrophies %}
		<section class="trophies-section">
			<h2>‚öîÔ∏è Troph√©es Passifs</h2>
			<p class="description">√âquipez ces troph√©es pour b√©n√©ficier de leurs effets</p>

			<div class="trophies-grid">
				{% for trophy in passiveTrophies %}
					<div class="trophy-card{% if trophy.owned %} owned{% else %} locked{% endif %}">
						<div class="trophy-icon">{{ trophy.icon }}</div>
						<h3>{{ trophy.name }}</h3>
						<p class="trophy-description">{{ trophy.description }}</p>

						<div class="trophy-effects">
							{% if trophy.heartBonus > 0 %}
								<span class="effect heart">+{{ trophy.heartBonus }} ‚ù§Ô∏è</span>
							{% endif %}
							{% if trophy.pointsMultiplier > 1 %}
								<span class="effect points">x{{ trophy.pointsMultiplier|round(2) }}</span>
							{% endif %}
						</div>

						{% if not trophy.owned %}
							<p class="unlock-condition">{{ trophy.unlockCondition }}</p>
						{% else %}
							<span class="owned-badge">‚úì Poss√©d√©</span>
						{% endif %}
					</div>
				{% endfor %}
			</div>
		</section>
	{% endif %}

	{% if activeTrophies %}
		<section class="trophies-section">
			<h2>üèÜ Troph√©es Actifs</h2>
			<p class="description">Ces troph√©es se d√©clenchent automatiquement</p>

			<div class="trophies-grid">
				{% for trophy in activeTrophies %}
					<div class="trophy-card{% if trophy.owned %} owned{% else %} locked{% endif %}">
						<div class="trophy-icon">{{ trophy.icon }}</div>
						<h3>{{ trophy.name }}</h3>
						<p class="trophy-description">{{ trophy.description }}</p>

						<div class="trophy-effects">
							{% if trophy.heartBonus > 0 %}
								<span class="effect heart">+{{ trophy.heartBonus }} ‚ù§Ô∏è</span>
							{% endif %}
							{% if trophy.pointsMultiplier > 1 %}
								<span class="effect points">x{{ trophy.pointsMultiplier|round(2) }}</span>
							{% endif %}
						</div>

						{% if not trophy.owned %}
							<p class="unlock-condition">{{ trophy.unlockCondition }}</p>
						{% else %}
							<span class="owned-badge">‚úì Poss√©d√©</span>
						{% endif %}
					</div>
				{% endfor %}
			</div>
		</section>
	{% endif %}

	<section class="gallery-actions">
		{% if progress %}
			<a href="{{ path('app_profile_index') }}" class="btn btn-primary">
				Mon Profil
			</a>
			<a href="{{ path('app_gallery_shop') }}" class="btn btn-primary">
				Boutique
			</a>
		{% endif %}
		<a href="{{ path('app_home') }}" class="btn btn-secondary">
			Accueil
		</a>
	</section>
</main>

{% endblock %}
