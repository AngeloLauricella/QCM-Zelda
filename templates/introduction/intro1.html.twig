{% extends 'base.html.twig' %}

{% block title %}Introduction - Question 1{% endblock %}

{% block body %}
<div class="intro-container">
    <h1>üè∞ L'Appel du H√©ros</h1>
    
    {% if not result_displayed %}
        <section class="intro-question">
            <h2>Question 1: Dans le r√™ve de Link, quelle est la r√©action de la princesse?</h2>
            
            <form method="post" class="intro-form">
                <div class="options">
                    <label class="option">
                        <input type="radio" name="answer" value="rit" required>
                        Elle rit bruyamment
                    </label>
                    
                    <label class="option">
                        <input type="radio" name="answer" value="dort" required>
                        Elle dort paisiblement
                    </label>
                    
                    <label class="option">
                        <input type="radio" name="answer" value="debat" required>
                        Elle se d√©bat
                    </label>
                    
                    <label class="option">
                        <input type="radio" name="answer" value="course" required>
                        Elle engage une course
                    </label>
                    
                    <label class="option">
                        <input type="radio" name="answer" value="poursuivie" required>
                        Elle est poursuivie (r√©ponse correcte)
                    </label>
                </div>
                
                <button type="submit" class="btn btn-primary">Valider ta r√©ponse</button>
            </form>
        </section>
    {% else %}
        {% if is_correct %}
            <section class="result-correct">
                <h2>‚úÖ Bonne R√©ponse!</h2>
                <p>+3 points</p>
                <p>Oui! Dans ce r√™ve pr√©monitoire, Zelda est poursuivie par l'homme myst√©rieux.</p>
                <p><strong>Score: {{ score }} / {{ hearts }} ‚ù§Ô∏è</strong></p>
                
                {% if step < 7 %}
                    <form action="{{ path('introduction_step', {'step': step + 1}) }}" method="post">
                        <button type="submit" class="btn btn-success">√âtape Suivante ‚Üí</button>
                    </form>
                {% else %}
                    <form action="{{ path('game_index') }}" method="get">
                        <button type="submit" class="btn btn-success">Fin de l'Introduction ‚Üí</button>
                    </form>
                {% endif %}
            </section>
        {% else %}
            <section class="result-wrong">
                <h2>‚ùå Mauvaise R√©ponse</h2>
                <p>-1 point</p>
                <p>La bonne r√©ponse est: Elle est poursuivie par l'homme myst√©rieux</p>
                <p><strong>Score: {{ score }} / {{ hearts }} ‚ù§Ô∏è</strong></p>
                
                <form action="{{ path('introduction_step', {'step': step}) }}" method="get">
                    <button type="submit" class="btn btn-warning">R√©essayer</button>
                </form>
            </section>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
